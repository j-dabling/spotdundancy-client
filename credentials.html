<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cookie Check and Form</title>
</head>
<body>

<!-- Your existing HTML form -->
<form id="existingForm">
    <!-- Your existing form elements go here -->
    <button type="button" onclick="checkAndShowForm()">Check Cookies</button>
</form>

<script>
function checkAndShowForm() {
    // Check if the secure cookies are present
    if (!areCookiesPresent()) {
        // If cookies are not present, generate and display the form
        showCookieForm();
    } else {
        // If cookies are present, proceed with your existing logic
        // For example, submit the existing form or perform other actions
        document.getElementById("existingForm").submit();
    }
}

function areCookiesPresent() {
    // Check if your secure cookies are present
    var cookie1 = getCookie("secureCookie1");
    var cookie2 = getCookie("secureCookie2");
    return cookie1 !== null && cookie2 !== null;
}

function showCookieForm() {
    // Generate and display the form for the user to enter cookies
    var formHTML = `
        <form id="cookieEntryForm">
            <label for="cookie1">Enter Secure Cookie 1:</label>
            <input type="text" id="cookie1" name="cookie1" required>
            
            <label for="cookie2">Enter Secure Cookie 2:</label>
            <input type="text" id="cookie2" name="cookie2" required>
            
            <button type="button" onclick="submitCookieForm()">Submit</button>
        </form>
    `;

    // Append the form to the body or any specific container
    document.body.innerHTML += formHTML;
}

function submitCookieForm() {
    // Handle the submission of the form by storing values in local storage
    var cookie1Value = document.getElementById("cookie1").value;
    var cookie2Value = document.getElementById("cookie2").value;

    // Store values in local storage
    localStorage.setItem("secureCookie1", cookie1Value);
    localStorage.setItem("secureCookie2", cookie2Value);

    // Remove the dynamically created form
    document.getElementById("cookieEntryForm").remove();

    // Proceed with your existing logic, e.g., submit the existing form
    document.getElementById("existingForm").submit();
}

function getCookie(name) {
    // Function to get the value of a cookie by name
    return localStorage.getItem(name);
}
</script>

</body>
</html>
